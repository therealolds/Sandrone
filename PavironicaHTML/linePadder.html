<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Line Padder • Pavironica</title>
    <link rel="stylesheet" href="../assets/css/style.css" />
    <style>
      :root { --bg:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --card:#111827; --border:#1f2937; --accent:#22d3ee; --accent-2:#60a5fa; }
      *{box-sizing:border-box}
      body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica Neue,Arial,Noto Sans}
      header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
      header a{color:var(--muted);text-decoration:none;border:1px solid var(--border);padding:6px 10px;border-radius:8px}
      header a:hover{border-color:var(--accent);color:var(--text)}
      header h1{margin:0;font-size:18px;letter-spacing:.2px}
      main{padding:20px;max-width:1100px;margin:0 auto;display:grid;gap:16px}
      .card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px}
      .controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
      label{font-size:12px;color:var(--muted)}
      input[type=number], input[type=text]{background:#0c1220;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:6px 8px}
      textarea{width:100%;min-height:260px;resize:vertical;background:#0c1220;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:10px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12px}
      .btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#002b36;font-weight:600;padding:8px 14px;border-radius:8px;cursor:pointer}
      .btn:disabled{opacity:.6;cursor:not-allowed}
      .muted{color:var(--muted)}
      pre{margin:0;white-space:pre-wrap;word-break:break-word}
      .result{background:#0b1020;border:1px solid var(--border);border-radius:10px;padding:12px;font-size:12px}
    </style>
  </head>
  <body>
    <header>
      <a href="../index.html">← Back</a>
      <h1>Line Padder</h1>
      <span class="muted">Pad each line to a fixed width</span>
    </header>
    <main>
      <div class="card controls">
        <label>Width <input id="width" type="number" min="1" value="11" /></label>
        <label>Fill char <input id="fill" type="text" value="0" maxlength="1" /></label>
        <label><input type="checkbox" id="trim" /> trim lines</label>
        <label><input type="checkbox" id="ignore-empty" checked /> ignore empty lines</label>
        <button id="btn-pad" class="btn">Pad</button>
      </div>

      <div class="card">
        <label>Input (one code per line)</label>
        <textarea id="input"></textarea>
      </div>

      <div class="card result">
        <div class="muted" style="margin-bottom:8px;">Output</div>
        <pre id="output"></pre>
      </div>
    </main>

    <script type="module">
      import { padLines } from "../PavironicaJS/linePadder.js";

      const input = document.getElementById('input');
      const output = document.getElementById('output');
      const btn = document.getElementById('btn-pad');
      const width = document.getElementById('width');
      const fill = document.getElementById('fill');
      const trim = document.getElementById('trim');
      const ignoreEmpty = document.getElementById('ignore-empty');

      btn.addEventListener('click', () => {
        const w = Math.max(1, parseInt(width.value, 10) || 1);
        const f = (fill.value || '0').slice(0,1);
        try {
          const out = padLines(input.value, w, { fill: f, trim: !!trim.checked, ignoreEmpty: !!ignoreEmpty.checked });
          output.textContent = out;
        } catch (e) {
          output.textContent = (e && e.message) ? e.message : String(e);
        }
      });
    </script>
  </body>
  </html>
